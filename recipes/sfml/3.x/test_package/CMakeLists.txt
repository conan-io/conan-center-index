cmake_minimum_required(VERSION 3.15)
project(test_package LANGUAGES CXX)

add_executable(${PROJECT_NAME} test_package.cpp)

set(SFML_COMPONENTS SFML::System)
set(SFML_TARGETS SFML::System)
if(SFML_WITH_WINDOW)
    target_compile_definitions(${PROJECT_NAME} PRIVATE SFML_WITH_WINDOW)
    list(APPEND SFML_COMPONENTS SFML::Window)
    list(APPEND SFML_TARGETS SFML::Window)
endif()
if(SFML_WITH_GRAPHICS)
    target_compile_definitions(${PROJECT_NAME} PRIVATE SFML_WITH_GRAPHICS)
    list(APPEND SFML_COMPONENTS SFML::Graphics)
    list(APPEND SFML_TARGETS SFML::Graphics)
endif()
if(SFML_WITH_NETWORK)
    target_compile_definitions(${PROJECT_NAME} PRIVATE SFML_WITH_NETWORK)
    list(APPEND SFML_COMPONENTS SFML::Network)
    list(APPEND SFML_TARGETS SFML::Network)
endif()
if(SFML_WITH_AUDIO)
    target_compile_definitions(${PROJECT_NAME} PRIVATE SFML_WITH_AUDIO)
    list(APPEND SFML_COMPONENTS SFML::Audio)
    list(APPEND SFML_TARGETS SFML::Audio)
endif()

find_package(SFML REQUIRED ${SFML_COMPONENTS} CONFIG)
target_link_libraries(${PROJECT_NAME} PRIVATE ${SFML_TARGETS})
target_compile_features(${PROJECT_NAME} PUBLIC cxx_std_17)
