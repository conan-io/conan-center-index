diff --git a/cmake/GenerateHeaders.cmake b/cmake/GenerateHeaders.cmake
index 3e032e537..9d5a8bea9 100644
--- a/cmake/GenerateHeaders.cmake
+++ b/cmake/GenerateHeaders.cmake
@@ -64,14 +64,12 @@ function(generate_dir_headers source_dir binary_dir)
             generate_dir_headers("${source_dir}/${child}" "${binary_dir}/${child}")
         endif()
     endforeach()
-    if (children_all)
-        file(WRITE "${binary_dir}/all.hpp"
-            "/* This file is automatically generated; do not edit. */\n\n")
-        foreach(child ${children_all})
-            file(RELATIVE_PATH all_path ${SOURCE_DIR} ${child})
-            file(APPEND "${binary_dir}/all.hpp" "#include <${all_path}>\n")
-        endforeach()
-    endif()
+    file(WRITE "${binary_dir}/all.hpp"
+        "/* This file is automatically generated; do not edit. */\n\n")
+    foreach(child ${children_all})
+        file(RELATIVE_PATH all_path ${SOURCE_DIR} ${child})
+        file(APPEND "${binary_dir}/all.hpp" "#include <${all_path}>\n")
+    endforeach()
 endfunction()
 
 # Call generate_dir_headers for each directory at this top level (ql/)
