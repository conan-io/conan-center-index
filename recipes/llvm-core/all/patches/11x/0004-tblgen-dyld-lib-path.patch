diff --git a/cmake/modules/TableGen.cmake b/cmake/modules/TableGen.cmake
index 73c1e96d3d9..e86014dbb69 100644
--- a/cmake/modules/TableGen.cmake
+++ b/cmake/modules/TableGen.cmake
@@ -98,7 +98,7 @@ function(tablegen project ofn)
   # ("${${project}_TABLEGEN_TARGET}" STREQUAL "${${project}_TABLEGEN_EXE}")
   # but lets us having smaller and cleaner code here.
   add_custom_command(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/${ofn}
-    COMMAND ${${project}_TABLEGEN_EXE} ${ARGN} -I ${CMAKE_CURRENT_SOURCE_DIR}
+	  COMMAND ${CMAKE_COMMAND} -E env DYLD_LIBRARY_PATH="$ENV{DYLD_LIBRARY_PATH}" $<TARGET_FILE:${${project}_TABLEGEN_EXE}> ${ARGN} -I ${CMAKE_CURRENT_SOURCE_DIR}
     ${tblgen_includes}
     ${LLVM_TABLEGEN_FLAGS}
     ${LLVM_TARGET_DEFINITIONS_ABSOLUTE}
