diff --git a/CMakeLists.txt b/CMakeLists.txt
index b713372..90fffec 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -59,9 +59,9 @@ endif()
 
 #---- Find other packages ----
 find_package(Threads REQUIRED)
-find_package(ZMQ)
+find_package(ZeroMQ)
 
-if( ZMQ_FOUND )
+if( ZeroMQ_FOUND )
     message(STATUS "ZeroMQ: found.")
     add_definitions( -DZMQ_FOUND )
     list(APPEND BT_SOURCE src/loggers/bt_zmq_publisher.cpp)
@@ -124,7 +124,10 @@ endif()
 #############################################################
 # LIBRARY
 
-add_subdirectory(3rdparty/lexy)
+find_package(cppzmq REQUIRED CONFIG)
+find_package(lexy REQUIRED CONFIG)
+find_package(minitrace REQUIRED CONFIG)
+find_package(tinyxml2 REQUIRED CONFIG)
 
 list(APPEND BT_SOURCE
     src/action_node.cpp
@@ -198,7 +201,10 @@ target_link_libraries(${BEHAVIOR_TREE_LIBRARY}
         Threads::Threads
         ${CMAKE_DL_LIBS}
     PRIVATE
-        $<BUILD_INTERFACE:foonathan::lexy>
+        cppzmq
+        foonathan::lexy
+        minitrace::minitrace
+        tinyxml2::tinyxml2
 )
 
 target_include_directories(${BEHAVIOR_TREE_LIBRARY}
diff --git a/tools/CMakeLists.txt b/tools/CMakeLists.txt
index c73ee37..db957f4 100644
--- a/tools/CMakeLists.txt
+++ b/tools/CMakeLists.txt
@@ -7,9 +7,9 @@ target_link_libraries(bt3_log_cat  ${BEHAVIOR_TREE_LIBRARY} )
 install(TARGETS bt3_log_cat
         DESTINATION ${BEHAVIOR_TREE_BIN_DESTINATION} )
 
-if( ZMQ_FOUND )
+if( ZeroMQ_FOUND )
     add_executable(bt3_recorder         bt_recorder.cpp )
-    target_link_libraries(bt3_recorder  ${BEHAVIOR_TREE_LIBRARY} ${ZMQ_LIBRARIES})
+    target_link_libraries(bt3_recorder  ${BEHAVIOR_TREE_LIBRARY} ${ZeroMQ_LIBRARIES})
     install(TARGETS bt3_recorder
             DESTINATION ${BEHAVIOR_TREE_BIN_DESTINATION} )
 endif()
