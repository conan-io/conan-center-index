diff --git a/CMakeLists.txt b/CMakeLists.txt
index 8f2b7e8b4..503aa0149 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -298,33 +298,32 @@ if(NOT SKIP_INSTALL_LIBRARIES AND NOT SKIP_INSTALL_ALL )
         LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
         ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
 
+    get_target_property(BUILD_TARGET_LOCATION ${PNG_LIB_NAME} LOCATION_${CMAKE_BUILD_TYPE})
+    get_filename_component(BUILD_TARGET_FILE ${BUILD_TARGET_LOCATION} NAME)
     # Create a symlink for libpng.dll.a => libpng15.dll.a on Cygwin
     if(CYGWIN)
       _png_generate_symlink_code(PNG_SHARED_IMPLIB_INSTALL_CODE
-        ${PNGLIB_NAME}${CMAKE_IMPORT_LIBRARY_SUFFIX}
-        libpng${CMAKE_IMPORT_LIBRARY_SUFFIX})
+                                ${BUILD_TARGET_FILE}
+                                libpng${CMAKE_IMPORT_LIBRARY_SUFFIX})
       install(CODE ${PNG_SHARED_IMPLIB_INSTALL_CODE})
-      install(FILES
-        ${CMAKE_CURRENT_BINARY_DIR}/libpng${CMAKE_IMPORT_LIBRARY_SUFFIX}
-        DESTINATION ${CMAKE_INSTALL_LIBDIR})
+      install(FILES ${CMAKE_CURRENT_BINARY_DIR}/libpng${CMAKE_IMPORT_LIBRARY_SUFFIX}
+              DESTINATION ${CMAKE_INSTALL_LIBDIR})
     endif()
 
     if(NOT WIN32)
       IF(CMAKE_LIBRARY_OUTPUT_DIRECTORY)
         _png_generate_symlink_code(PNG_SHARED_INSTALL_CODE
- ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${PNGLIB_NAME}${CMAKE_SHARED_LIBRARY_SUFFIX}
- ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/libpng${CMAKE_SHARED_LIBRARY_SUFFIX})
-                install(CODE ${PNG_SHARED_INSTALL_CODE})
-                install(FILES
- ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/libpng${CMAKE_SHARED_LIBRARY_SUFFIX}
+                                  ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${BUILD_TARGET_FILE}
+                                  ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/libpng${CMAKE_SHARED_LIBRARY_SUFFIX})
+        install(CODE ${PNG_SHARED_INSTALL_CODE})
+        install(FILES ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/libpng${CMAKE_SHARED_LIBRARY_SUFFIX}
                 DESTINATION ${CMAKE_INSTALL_LIBDIR})
       ELSE(CMAKE_LIBRARY_OUTPUT_DIRECTORY)
         _png_generate_symlink_code(PNG_SHARED_INSTALL_CODE
-           ${PNGLIB_NAME}${CMAKE_SHARED_LIBRARY_SUFFIX}
-           libpng${CMAKE_SHARED_LIBRARY_SUFFIX})
+                                  ${BUILD_TARGET_FILE}
+                                  libpng${CMAKE_SHARED_LIBRARY_SUFFIX})
         install(CODE ${PNG_SHARED_INSTALL_CODE})
-        install(FILES
-           ${CMAKE_CURRENT_BINARY_DIR}/libpng${CMAKE_SHARED_LIBRARY_SUFFIX}
+        install(FILES ${CMAKE_CURRENT_BINARY_DIR}/libpng${CMAKE_SHARED_LIBRARY_SUFFIX}
                 DESTINATION ${CMAKE_INSTALL_LIBDIR})
       ENDIF(CMAKE_LIBRARY_OUTPUT_DIRECTORY)
     endif()
@@ -332,26 +331,27 @@ if(NOT SKIP_INSTALL_LIBRARIES AND NOT SKIP_INSTALL_ALL )
 
   if(PNG_STATIC)
     install(TARGETS ${PNG_LIB_NAME_STATIC}
-        ${PNG_EXPORT_RULE}
+            ${PNG_EXPORT_RULE}
             LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
             ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
+
+    get_target_property(BUILD_TARGET_LOCATION ${PNG_LIB_NAME_STATIC} LOCATION_${CMAKE_BUILD_TYPE})
+    get_filename_component(BUILD_TARGET_FILE ${BUILD_TARGET_LOCATION} NAME)
     if(NOT WIN32 OR CYGWIN)
       IF(CMAKE_ARCHIVE_OUTPUT_DIRECTORY)
          _png_generate_symlink_code(PNG_STATIC_INSTALL_CODE
-${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/${PNGLIB_NAME}${CMAKE_STATIC_LIBRARY_SUFFIX}
-        ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/libpng${CMAKE_STATIC_LIBRARY_SUFFIX})
+                                    ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/${BUILD_TARGET_FILE}
+                                    ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/libpng${CMAKE_STATIC_LIBRARY_SUFFIX})
         install(CODE ${PNG_STATIC_INSTALL_CODE})
-        install(FILES
-          ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/libpng${CMAKE_STATIC_LIBRARY_SUFFIX}
-             DESTINATION ${CMAKE_INSTALL_LIBDIR})
+        install(FILES ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/libpng${CMAKE_STATIC_LIBRARY_SUFFIX}
+                DESTINATION ${CMAKE_INSTALL_LIBDIR})
       ELSE(CMAKE_ARCHIVE_OUTPUT_DIRECTORY)
         _png_generate_symlink_code(PNG_STATIC_INSTALL_CODE
-           ${PNGLIB_NAME}${CMAKE_STATIC_LIBRARY_SUFFIX}
-           libpng${CMAKE_STATIC_LIBRARY_SUFFIX})
+                                  ${BUILD_TARGET_FILE}
+                                  libpng${CMAKE_STATIC_LIBRARY_SUFFIX})
         install(CODE ${PNG_STATIC_INSTALL_CODE})
-        install(FILES
-          ${CMAKE_CURRENT_BINARY_DIR}/libpng${CMAKE_STATIC_LIBRARY_SUFFIX}
-                     DESTINATION ${CMAKE_INSTALL_LIBDIR})
+        install(FILES ${CMAKE_CURRENT_BINARY_DIR}/libpng${CMAKE_STATIC_LIBRARY_SUFFIX}
+                DESTINATION ${CMAKE_INSTALL_LIBDIR})
       ENDIF(CMAKE_ARCHIVE_OUTPUT_DIRECTORY)
     endif()
   endif()
