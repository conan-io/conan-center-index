sources:
  "3.3":
    url:
      - "https://github.com/rouault/libecwj2-3.3-builds/raw/main/libecwj2-3.3-2006-09-06.zip"
      - "https://sourceforge.net/projects/libecw-legacy/files/libecwj2-3.3-2006-09-06.zip"
    sha256: "60ae34e2ba34ca77525950822f53243f374940f1cd13d2460eabbbd759e11074"
patches:
  "3.3":
    # The following patches are applied by GDAL in an aggregated patch here:
    # https://github.com/rouault/libecwj2-3.3-builds/blob/main/libecwj2-3.3.patch
    - patch_file: "patches/libecwj2-3.3-3245a.patch"
      patch_type: "bugfix"
      patch_description: "Memory leak patches from http://trac.osgeo.org/mapserver/ticket/3245"
      patch_source: "https://sourceforge.net/projects/libecw-legacy/files/patches/libecwj2-3.3-3245a.patch"
    - patch_file: "patches/libecwj2-3.3-3245b.patch"
      patch_type: "bugfix"
      patch_description: "Memory leak patches from http://trac.osgeo.org/mapserver/ticket/3245"
      patch_source: "https://sourceforge.net/projects/libecw-legacy/files/patches/libecwj2-3.3-3245b.patch"
    - patch_file: "patches/libecwj2-3.3-NCSPhysicalMemorySize-Linux.patch"
      patch_type: "bugfix"
      patch_description: "Memory overflow patch from http://trac.osgeo.org/gdal/ticket/3366"
      patch_source: "https://sourceforge.net/projects/libecw-legacy/files/patches/libecwj2-3.3-NCSPhysicalMemorySize-Linux.patch"
    - patch_file: "patches/libecwj2-3.3-2593.patch"
      patch_type: "bugfix"
      patch_description: "Fix crash creating 16bit JP images on x86_64 from http://trac.osgeo.org/gdal/ticket/2593"
      patch_source: "https://sourceforge.net/projects/libecw-legacy/files/patches/libecwj2-3.3-2593.patch"
    - patch_file: "patches/libecwj2-3.3-wcharfix.patch"
      patch_type: "portability"
      patch_description: "Fix Unicode handling in NCSPrefsXML.cpp"
      patch_source: "https://sourceforge.net/projects/libecw-legacy/files/patches/libecwj2-3.3-wcharfix.patch"
    # Additional patches for Conan
    - patch_file: "patches/unvendor-lcms.patch"
      patch_type: "conan"
      patch_description: "Use lcms2 from Conan"
      patch_source: "https://sourceforge.net/projects/libecw-legacy/files/patches/libecwj2-3.3-nolcms.patch"
    - patch_file: "patches/unvendor-libjpeg-tinyxml.patch"
      patch_type: "conan"
      patch_description: "Use libjpeg and tinyxml from Conan"
    - patch_file: "patches/use-stdint.h-types.patch"
      patch_type: "portability"
      patch_description: "Use modern stdint.h types"
    - patch_file: "patches/macos-compatibility.patch"
      patch_type: "portability"
      patch_description: "Remove outdated compatibility function on macOS"
    - patch_file: "patches/modernize-configure.in.patch"
      patch_type: "portability"
      patch_description: "Modernize configure.in a bit"
