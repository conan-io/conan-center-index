diff --git a/CMakeLists.txt b/CMakeLists.txt
index 11ff789a7..2ea2f21f7 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -99,9 +99,9 @@ set(HEADERS
 )
 
 foreach (build_dir IN LISTS BUILD_DIRS TEMPLATE_DIRS)
-    file(GLOB TEMP RELATIVE "${CMAKE_SOURCE_DIR}" "${build_dir}/*.c")
+    file(GLOB TEMP RELATIVE "${CMAKE_CURRENT_SOURCE_DIR}" "${build_dir}/*.c")
     list(APPEND SOURCES ${TEMP})
-    file(GLOB TEMP RELATIVE "${CMAKE_SOURCE_DIR}" "${build_dir}/*.h")
+    file(GLOB TEMP RELATIVE "${CMAKE_CURRENT_SOURCE_DIR}" "${build_dir}/*.h")
     list(APPEND HEADERS ${TEMP})
 endforeach ()
 
@@ -110,7 +110,7 @@ execute_process(
 "
 from os.path import join
 
-with open(join('${CMAKE_SOURCE_DIR}','qadic', 'CPimport.txt')) as fin:
+with open(join('${CMAKE_CURRENT_SOURCE_DIR}','qadic', 'CPimport.txt')) as fin:
     with open('CPimport.h.in', 'w+') as fout:
         while True:
             l = fin.readline()
@@ -210,14 +210,14 @@ endif()
 set(TEMP ${HEADERS})
 set(HEADERS )
 foreach(header IN LISTS TEMP)
-    if(EXISTS ${CMAKE_SOURCE_DIR}/${header})
+    if(EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/${header})
         list(APPEND HEADERS ${header})
     else()
-        list(APPEND HEADERS ${CMAKE_BINARY_DIR}/${header})  
+        list(APPEND HEADERS ${CMAKE_CURRENT_BINARY_DIR}/${header})
     endif()
 endforeach()
 
-file(GLOB TEMP "${CMAKE_SOURCE_DIR}/*.h")
+file(GLOB TEMP "${CMAKE_CURRENT_SOURCE_DIR}/*.h")
 list(APPEND HEADERS ${TEMP})
 
 add_library(flint ${SOURCES})
@@ -234,6 +234,7 @@ endif()
 target_include_directories(flint PUBLIC 
     ${CMAKE_CURRENT_SOURCE_DIR} ${GMP_INCLUDE_DIRS} ${MPFR_INCLUDE_DIRS}
     ${CMAKE_CURRENT_BINARY_DIR} ${PThreads_INCLUDE_DIRS}
+    ${CMAKE_BINARY_DIR}
     ${NTL_INCLUDE_DIR}
 )
 
