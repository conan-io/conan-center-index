set(COLMAP_FOUND TRUE)
set(COLMAP_VERSION "@COLMAP_VERSION@")

set(COLMAP_CUDA_ENABLED @CUDA_ENABLED@)
if(COLMAP_CUDA_ENABLED)
    enable_language(CUDA)
    include(CMakeFindDependencyMacro)
    if(CMAKE_VERSION VERSION_LESS 3.17)
        find_dependency(CUDA REQUIRED)
        macro(declare_imported_cuda_target module)
            add_library(CUDA::${module} INTERFACE IMPORTED)
            target_include_directories(CUDA::${module} INTERFACE ${CUDA_INCLUDE_DIRS})
            target_link_libraries(CUDA::${module} INTERFACE ${CUDA_${module}_LIBRARY} ${ARGN})
        endmacro()
        declare_imported_cuda_target(cudart ${CUDA_LIBRARIES})
        declare_imported_cuda_target(curand ${CUDA_LIBRARIES})
    else()
        find_dependency(CUDAToolkit REQUIRED)
    endif()

    set_property(TARGET colmap::colmap_util_cuda PROPERTY INTERFACE_LINK_LIBRARIES CUDA::cudart APPEND)
    set_property(TARGET colmap::colmap_mvs_cuda PROPERTY INTERFACE_LINK_LIBRARIES CUDA::cudart CUDA::curand APPEND)
    set_property(TARGET colmap::colmap_sift_gpu PROPERTY INTERFACE_LINK_LIBRARIES CUDA::cudart CUDA::curand APPEND)
endif()
