--- a/third-party/libstudxml/CMakeLists.txt
+++ b/third-party/libstudxml/CMakeLists.txt
@@ -2,8 +2,6 @@ cmake_minimum_required(VERSION 3.1)
 project(libstudxml)
 
 # Require C++11 compiler
-set(CMAKE_CXX_STANDARD 11)
-set(CMAKE_CXX_STANDARD_REQUIRED ON)
 
 set(LIBSTUDXML_ROOT_DIR ${CMAKE_CURRENT_SOURCE_DIR})
 set(LIBSTUDXML_INCLUDE_DIR ${LIBSTUDXML_ROOT_DIR})
@@ -18,19 +16,16 @@ set(LIBSTUDXML
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/qname.cxx
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/serializer.cxx
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/value-traits.cxx
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/content
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/exception
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/forward
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/parser
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/qname
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/serializer
-  ${LIBSTUDXML_ROOT_DIR}/libstudxml/value-traits)
+  ${LIBSTUDXML_ROOT_DIR}/libstudxml/qname.cxx
+  ${LIBSTUDXML_ROOT_DIR}/libstudxml/serializer.cxx
+  ${LIBSTUDXML_ROOT_DIR}/libstudxml/value-traits.cxx)
 
 set(GENX
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/genx/char-props.c
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/genx/genx.c
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/genx/genx.h)
 
+if(0)
 set(EXPAT
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/expat/xmlparse.c
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/expat/xmlrole.c
@@ -48,15 +43,20 @@ set(EXPAT
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/expat/xmlrole.h
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/expat/xmltok_impl.h
   ${LIBSTUDXML_ROOT_DIR}/libstudxml/details/expat/xmltok.h)
+endif()
 
 add_library(libstudxml OBJECT ${LIBSTUDXML} ${GENX} ${EXPAT})
+find_package(EXPAT REQUIRED MODULE)
+target_link_libraries(libstudxml PUBLIC EXPAT::EXPAT)
+target_compile_definitions(libstudxml PUBLIC LIBSTUDXML_EXTERNAL_EXPAT)
+target_compile_features(libstudxml PUBLIC cxx_std_11)
 
 target_compile_definitions(libstudxml PUBLIC LIBSTUDXML_STATIC_LIB=1)
 target_include_directories(libstudxml
   PUBLIC ${LIBSTUDXML_ROOT_DIR}
   PUBLIC ${EXPAT_INCLUDE_DIRS})
 
-if(STATIC)
+if(0)
   target_compile_definitions(libstudxml PUBLIC XML_STATIC=1)
 endif()
 
@@ -74,6 +74,6 @@ endif()
 
 # When xlnt is a static library, assume expat will be linked statically too
 # TODO: is this a valid assumption?
-if(STATIC)
+if(0)
   target_compile_definitions(libstudxml PUBLIC XML_STATIC=1)
 endif()
