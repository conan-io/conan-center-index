From 78608eb488efc5b727c347f5d8d6d24a3b540ed9 Mon Sep 17 00:00:00 2001
From: Jordan Williams <jordan@jwillikers.com>
Date: Tue, 5 Mar 2024 14:42:58 -0600
Subject: [PATCH] Avoid conflicting definition with glibc strlcpy

---
 avahi-common/domain.c    | 2 +-
 avahi-compat-howl/text.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/avahi-common/domain.c b/avahi-common/domain.c
index 3b1ab68..2e5658b 100644
--- a/avahi-common/domain.c
+++ b/avahi-common/domain.c
@@ -479,7 +479,7 @@ int avahi_service_name_join(char *p, size_t size, const char *name, const char *
 
 #ifndef HAVE_STRLCPY
 
-static size_t strlcpy(char *dest, const char *src, size_t n) {
+size_t strlcpy(char *dest, const char *src, size_t n) {
     assert(dest);
     assert(src);
 
diff --git a/avahi-compat-howl/text.c b/avahi-compat-howl/text.c
index 7ef4df3..7009204 100644
--- a/avahi-compat-howl/text.c
+++ b/avahi-compat-howl/text.c
@@ -39,7 +39,7 @@ struct _sw_text_record {
 
 #ifndef HAVE_STRLCPY
 
-static size_t strlcpy(char *dest, const char *src, size_t n) {
+size_t strlcpy(char *dest, const char *src, size_t n) {
     assert(dest);
     assert(src);
 
-- 
2.44.0

