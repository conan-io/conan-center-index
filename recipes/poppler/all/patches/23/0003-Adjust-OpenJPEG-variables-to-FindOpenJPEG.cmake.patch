From eba6720f651ec5aec659cafe86dee740718f53cc Mon Sep 17 00:00:00 2001
From: Rasmus Thomsen <rasmus.thomsen@dampsoft.de>
Date: Fri, 7 Jul 2023 08:49:17 +0200
Subject: [PATCH] Adjust OpenJPEG variables to FindOpenJPEG.cmake

---
 CMakeLists.txt | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index e27f7c79..d170d262 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -282,7 +282,7 @@ set(WITH_OPENJPEG FALSE)
 if(ENABLE_LIBOPENJPEG STREQUAL "openjpeg2")
   find_package(OpenJPEG)
   set(WITH_OPENJPEG ${OpenJPEG_FOUND})
-  if(NOT OpenJPEG_FOUND OR OPENJPEG_MAJOR_VERSION VERSION_LESS 2)
+  if(NOT OpenJPEG_FOUND OR OpenJPEG_MAJOR_VERSION VERSION_LESS 2)
     message(STATUS "Could NOT find openjpeg2.")
     message(FATAL_ERROR "Install libopenjpeg2 before trying to build poppler. You \
 can also decide to use the internal unmaintained JPX decoder or none at all.\n\
@@ -615,7 +615,7 @@ add_library(poppler ${poppler_SRCS})
 if (OpenJPEG_FOUND)
   # check if we can remove this when we depend on newer openjpeg versions, 2.5 seems fixed
   # target openjp2 may lack interface include directories
-  target_include_directories(poppler SYSTEM PRIVATE ${OPENJPEG_INCLUDE_DIRS})
+  target_include_directories(poppler SYSTEM PRIVATE ${OpenJPEG_INCLUDE_DIRS})
 endif()
 if(USE_CMS)
   target_include_directories(poppler SYSTEM PRIVATE ${LCMS2_INCLUDE_DIR})
-- 
2.25.1

