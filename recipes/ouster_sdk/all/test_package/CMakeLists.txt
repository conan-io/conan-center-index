cmake_minimum_required(VERSION 3.15)
project(test_package CXX)

find_package(OusterSDK REQUIRED CONFIG)

add_executable(${PROJECT_NAME} test_package.cpp)

if (OUSTER_SDK_SHARED)
    target_link_libraries(${PROJECT_NAME} PRIVATE OusterSDK::shared_library)
else()
    if (TARGET OusterSDK::ouster_client)
        target_link_libraries(${PROJECT_NAME} PRIVATE OusterSDK::ouster_client)
    endif()
    if (TARGET OusterSDK::ouster_pcap)
        target_link_libraries(${PROJECT_NAME} PRIVATE OusterSDK::ouster_pcap)
    endif()
    if (TARGET OusterSDK::ouster_osf)
        target_link_libraries(${PROJECT_NAME} PRIVATE OusterSDK::ouster_osf)
    endif()
    if (TARGET OusterSDK::ouster_viz)
        target_link_libraries(${PROJECT_NAME} PRIVATE OusterSDK::ouster_viz)
    endif()
endif()
