--- include/verilatedos.h
+++ include/verilatedos.h
@@ -514,7 +514,7 @@
 #ifdef __MINGW32__
 # define VL_LOCALTIME_R(timep, tmp) localtime_s((tmp), (timep))
 #elif defined(_MSC_VER)
-# define VL_LOCALTIME_R(timep, tmp) localtime_c((tmp), (timep))
+# define VL_LOCALTIME_R(timep, tmp) localtime_s((tmp), (timep))
 #else
 # define VL_LOCALTIME_R(timep, tmp) localtime_r((timep), (tmp))
 #endif
--- src/V3Param.cpp
+++ src/V3Param.cpp
@@ -57,7 +57,7 @@
 #include "V3Width.h"
 #include "V3Unroll.h"
 #include "V3Hasher.h"
-
+#include <cctype>
 #include <deque>
 #include <map>
 #include <memory>
