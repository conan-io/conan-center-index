diff --git a/CMakeLists.txt b/CMakeLists.txt
index e77cb93cc..07d996b8b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -58,25 +58,14 @@ set(AAFSDK_OUT_DIR "${AAFSDK_ROOT}/out" CACHE STRING "Path to AAFSDK output dire
 
 project(AAF-SDK LANGUAGES CXX)
 
-enable_testing()
-
 include(pdefs)
-include(cdefs)
 include(common)
 include(ss)
 
 add_subdirectory(DevUtils)
-add_subdirectory(examples)
-add_subdirectory(examples2)
 add_subdirectory(ref-impl)
-add_subdirectory(test)
-add_subdirectory(Utilities)
 
 add_custom_target(Everything)
 add_dependencies(Everything
     MakeSDK
-    MakeSDKExamples
-    MakeSDKExamples2
-    MakeSDKTests
-    MakeSDKUtilities
 )
diff --git a/ref-impl/src/com-api/CMakeLists.txt b/ref-impl/src/com-api/CMakeLists.txt
index d092d9ad2..f0afde40a 100644
--- a/ref-impl/src/com-api/CMakeLists.txt
+++ b/ref-impl/src/com-api/CMakeLists.txt
@@ -236,11 +236,25 @@ target_include_directories(comapi PRIVATE
     ${AAFSDK_ROOT}/ref-impl/src/impl
 )
 
+if(APPLE)
+    find_library(CORE_FOUNDATION CoreFoundation)
+    if (NOT CORE_FOUNDATION)
+      message(FATAL_ERROR "CoreFoundation not found")
+    endif()
+
+    find_library(CORE_SERVICES CoreServices)
+    if (NOT CORE_SERVICES)
+      message(FATAL_ERROR "CoreServices not found")
+    endif()
+endif()
+
 target_link_libraries(comapi PRIVATE
     Impl
     OM
     expat
     ss
+    ${CORE_FOUNDATION}
+    ${CORE_SERVICES}
 )
 
 target_compile_definitions(comapi PUBLIC -DAAFCOAPI)
