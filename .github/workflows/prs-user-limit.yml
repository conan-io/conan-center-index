name: "[service] PRs open limit"

on:
  pull_request:
  pull_request_target:
    types: [opened]

env:
  PYTHONPATH: ${{github.workspace}}
  PYVER: "3.8"
  REQUIREMENTS: "PyGithub==2.1.1"

jobs:
  comment:
    # if: github.repository == 'conan-io/conan-center-index'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          ref: master
      - uses: ./.github/actions/prs_user_limit
        with:
          limit: "2"
          comment: "Hi @{username}, you have reached the limit of open pull-requests :dart:\\n\\nPlease consider working on the open ones first and help us improve the experience for everyone using conan-center-index :handshake:\\n\\n- :open_file_folder: Your open pull-requests: {user_open_prs_str} ({user_open_prs_len})\\n- :no_entry: Limit: {limit}\\n\\n Thank you :smile:"
